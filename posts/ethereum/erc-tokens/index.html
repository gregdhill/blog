<!DOCTYPE html>
<html lang="en"><head>
	<meta charset="UTF-8">
	<meta name="description" content="Interested in Blockchains, Cryptography and Distributed Systems.">
	<meta name="keywords" content="computer, security, ethical hacker, researcher, inventor, abertay, dundee, edinburgh, machine learning, mathematics, cryptography, blockchains, reverse engineering, linux, programming, scotland, greg hill">
	<meta name="author" content="Gregory Hill">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Gregory Hill | ERC Token Standards</title>
	<link href="../../../css/style.css" rel="stylesheet">
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../img/apple-touch-icon.png">
	<link rel="icon" type="image/png" href="../../../img/favicon-32x32.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../img/favicon-16x16.png" sizes="16x16">
	<link rel="manifest" href="../../../img/manifest.json">
	<link rel="mask-icon" href="../../../img/safari-pinned-tab.svg" color="#5bbad5">
	<link rel="shortcut icon" href="../../../img/favicon.ico">
	<meta name="msapplication-config" content="/img/browserconfig.xml">
	<meta name="theme-color" content="#ffffff">
	
</head><body>
    <main><div class="post">
    <div class="post-info">
        
        Oct 5, 2019
        · 644 words
        · 4 minute read
        
    </div>

    <h1 class="post-title">
        ERC Token Standards
    </h1>

    <div class="post-tags"><a class="tag" href=../../../tags/ethereum/>#ethereum</a><a class="tag" href=../../../tags/solidity/>#solidity</a></div>

    <div class="post-body">
        <p>You may be familiar with the concept of a Request for Comments (RFC) from a body such as the Internet Engineering
Task Force (IETF). They are just technical documents that describe the specifications for a particular technology -
<code>HTTP/1.1</code> is described by <a href="https://www.ietf.org/rfc/rfc2616.txt">RFC-2616</a> for instance. Application level standards
in the Ethereum ecosystem are thus named accordingly, forming one possible part of an Ethereum Improvement Proposal (EIP).
For more details on this, check out <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1.md">EIP-1</a>.</p>
<h2 id="erc-20">ERC-20</h2>
<p><a href="https://eips.ethereum.org/EIPS/eip-20">ERC-20</a> is one such standard, named simply because it was the
<a href="https://github.com/ethereum/eips/issues/20">twentieth issue</a> on GitHub. It defines six
<a href="https://solidity.readthedocs.io/en/v0.4.21/contracts.html#functions">functions</a> that should be implemented
and two <a href="https://solidity.readthedocs.io/en/v0.4.21/contracts.html#events">events</a> that should be triggered
in order for the smart contract to be considered compliant.</p>
<h3 id="functions">Functions</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-solidity" data-lang="solidity"><span style="color:#75715e">// Get the total number of tokens possible:
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> totalSupply() <span style="color:#66d9ef">constant</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">uint256</span> totalSupply)

<span style="color:#75715e">// Get the target account&#39;s balance:
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> balanceOf(<span style="color:#66d9ef">address</span> _owner) <span style="color:#66d9ef">constant</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">uint256</span> balance)

<span style="color:#75715e">// Send token to target account:
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> transfer(<span style="color:#66d9ef">address</span> _to, <span style="color:#66d9ef">uint256</span> _value) <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">bool</span> success)

<span style="color:#75715e">// Send token to target account from authorized account:
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> transferFrom(<span style="color:#66d9ef">address</span> _from, <span style="color:#66d9ef">address</span> _to, <span style="color:#66d9ef">uint256</span> _value) <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">bool</span> success)

<span style="color:#75715e">// Allow the target account to withdraw up to value:
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> approve(<span style="color:#66d9ef">address</span> _spender, <span style="color:#66d9ef">uint256</span> _value) <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">bool</span> success)

<span style="color:#75715e">// Amount approved account is allowed to spend:
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> allowance(<span style="color:#66d9ef">address</span> _owner, <span style="color:#66d9ef">address</span> _spender) <span style="color:#66d9ef">constant</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">uint256</span> remaining)

</code></pre></div><h3 id="events">Events</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-solidity" data-lang="solidity"><span style="color:#75715e">// Trigger on token transfer:
</span><span style="color:#75715e"></span><span style="color:#66d9ef">event</span> Transfer(<span style="color:#66d9ef">address</span> <span style="color:#66d9ef">indexed</span> _from, <span style="color:#66d9ef">address</span> <span style="color:#66d9ef">indexed</span> _to, <span style="color:#66d9ef">uint256</span> _value)

<span style="color:#75715e">// Trigger when account is approved:
</span><span style="color:#75715e"></span><span style="color:#66d9ef">event</span> Approval(<span style="color:#66d9ef">address</span> <span style="color:#66d9ef">indexed</span> _owner, <span style="color:#66d9ef">address</span> <span style="color:#66d9ef">indexed</span> _spender, <span style="color:#66d9ef">uint256</span> _value)
</code></pre></div><h3 id="example">Example</h3>
<p>Before reading ahead you should first be aware of
<a href="https://solidity.readthedocs.io/en/v0.5.3/contracts.html#abstract-contracts">abstract</a> contracts and
<a href="https://solidity.readthedocs.io/en/v0.5.3/contracts.html#interfaces">interfaces</a> in Solidity.
Both concepts allow for a level of generality in the child implementation, with assurance that the
inherited definitions will be preserved. The <a href="https://github.com/OpenZeppelin/openzeppelin-contracts">smart contract library</a>
by OpenZeppelin details many such APIs for developers to reuse. In particular,
<a href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC20/IERC20.sol">IERC20.sol</a>
contains all definitions for ERC-20. We can import this interface and assert that our contract implements it:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-solidity" data-lang="solidity"><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">5</span>.<span style="color:#ae81ff">0</span>;

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;./IERC20.sol&#34;</span>;

<span style="color:#66d9ef">contract</span> Token <span style="color:#66d9ef">is</span> IERC20 {
    <span style="color:#66d9ef">uint256</span> supply;
    <span style="color:#66d9ef">mapping</span> (<span style="color:#66d9ef">address</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">uint256</span>) balances;
    constructor() <span style="color:#66d9ef">public</span> {  
        supply <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000000000</span>;  
        balances[msg.sender] <span style="color:#f92672">=</span> supply;  
        emit Transfer(msg.sender, msg.sender, supply);  
    }
    
    <span style="color:#66d9ef">function</span> totalSupply() <span style="color:#66d9ef">external</span> <span style="color:#66d9ef">view</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">uint256</span>) {
        <span style="color:#66d9ef">return</span> supply;
    }

    <span style="color:#66d9ef">function</span> balanceOf(<span style="color:#66d9ef">address</span> account) <span style="color:#66d9ef">external</span> <span style="color:#66d9ef">view</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">uint256</span>) {
        <span style="color:#66d9ef">return</span> balances[account];
    }

    <span style="color:#66d9ef">function</span> transfer(<span style="color:#66d9ef">address</span> recipient, <span style="color:#66d9ef">uint256</span> amount) <span style="color:#66d9ef">external</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">bool</span>) {
        <span style="color:#66d9ef">if</span> (balances[msg.sender] <span style="color:#f92672">&gt;</span> amount) {
            balances[msg.sender] <span style="color:#f92672">-=</span> amount;
            balances[recipient] <span style="color:#f92672">+=</span> amount;
            emit Transfer(msg.sender, recipient, amount);
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
        }
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
    }

    <span style="color:#66d9ef">function</span> allowance(<span style="color:#66d9ef">address</span> owner, <span style="color:#66d9ef">address</span> spender) <span style="color:#66d9ef">external</span> <span style="color:#66d9ef">view</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">uint256</span>) {
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
    }

    <span style="color:#66d9ef">function</span> approve(<span style="color:#66d9ef">address</span> spender, <span style="color:#66d9ef">uint256</span> amount) <span style="color:#66d9ef">external</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">bool</span>) {
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
    }
    
    <span style="color:#66d9ef">function</span> transferFrom(<span style="color:#66d9ef">address</span> sender, <span style="color:#66d9ef">address</span> recipient, <span style="color:#66d9ef">uint256</span> amount) <span style="color:#66d9ef">external</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">bool</span>) {
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
    }
}
</code></pre></div><h3 id="makerdao">MakerDAO</h3>
<p>I had previously mentioned this in my post on <a href="../dao/">Decentralized Autonomous Organizations (DAO)</a>,
MakerDAO is responsible for the stablecoin named Dai. To mint this token, a user must lock up their Ether
in a Collateralized Debt Position (CDP). This accrues interest over time (known as a stability fee) and all
Dai will need to be paid back before the CDP can be unlocked. Without diving too deep into the economics,
Maker has integrated a number of techniques to ensure the value of a single Dai is equivalent to the USD.
The whole system is open-source, and is in fact ERC-20 compliant as shown <a href="https://github.com/makerdao/dss/blob/master/src/dai.sol">here</a>.</p>
<h2 id="erc-721">ERC-721</h2>
<p>To understand why <a href="https://github.com/ethereum/EIPs/issues/721">ERC-721</a> exists, we need to understand the concept of
fungibility. In essence, something is fungible if it is completely interchangeable. For example, ERC-20 is fungible
because it&rsquo;s impossible to distinguish individual tokens, like gold - where one unit can be wholly replaced with another
with no loss of value. Now, let&rsquo;s imagine we wanted to build a virtual game in which players have unique assets.
You may have heard of the game <a href="https://www.cryptokitties.co/">CryptoKitties</a> for instance, where no two cats are the same.
This is built atop ERC-721, a standard for the Non-Fungible Token (NFT) - see the interface defined by
<a href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC721/IERC721.sol">OpenZeppelin</a>.</p>

    </div>
</div></main>
</body><footer>

    
    <a class="footer-social" href="https://github.com/gregdhill">
        <i class="grow fa fa-github fa-2x" aria-hidden="true"></i>
    </a>
    
    <a class="footer-social" href="https://twitter.com/gregorydhill">
        <i class="grow fa fa-twitter fa-2x" aria-hidden="true"></i>
    </a>
    
    <a class="footer-social" href="https://scholar.google.co.uk/citations?user=OoKiidsAAAAJ&amp;hl=en">
        <i class="grow fa fa-graduation-cap fa-2x" aria-hidden="true"></i>
    </a>
    

</footer></html>